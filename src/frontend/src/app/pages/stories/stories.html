<app-search-bar [(query)]="searchQuery"></app-search-bar>

@if (isLoading() && stories().length === 0) {
<div class="spinner-wrap" role="status">
  <div class="spinner"></div>
  <p class="spinner-text">Loading storiesâ€¦</p>
</div>
} @else {
<table class="story-list">
  <tbody>
    @for (story of stories(); track story.id; let i = $index) {
    <tr app-story-list-item [story]="story" [rank]="(currentPage() - 1) * 30 + i + 1"></tr>
    }
  </tbody>
</table>

@if (hasMore()) {
<div class="more-link-container">
  <a
    class="more-link"
    [routerLink]="['.']"
    [queryParams]="{ p: currentPage() + 1 }"
    queryParamsHandling="merge"
    >More</a
  >
</div>
} }
